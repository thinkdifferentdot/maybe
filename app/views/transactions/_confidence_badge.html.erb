<%# locals: (transaction:) %>

<% confidence = transaction.extra.dig("ai_categorization_confidence") %>

<% if confidence.present? %>
  <% percent = (confidence * 100).round %>
  <% icon_key, icon_color = if percent >= 80
                              ["check-circle", "success"]
                            elsif percent >= 60
                              ["minus-circle", "warning"]
                            else
                              ["x-circle", "destructive"]
                            end %>

  <span class="inline-flex items-center" title="AI confidence score">
    <%= icon(icon_key, size: "xs", color: icon_color) %>
  </span>
<% end %>
